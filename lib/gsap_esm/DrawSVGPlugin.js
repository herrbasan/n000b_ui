/*!
 * DrawSVGPlugin 3.2.6
 * https://greensock.com
 *
 * @license Copyright 2008-2020, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
var gsap,_toArray,_doc,_win,_isEdge,_coreInitted,_windowExists=function(){return"undefined"!=typeof window},_getGSAP=function(){return gsap||_windowExists()&&(gsap=window.gsap)&&gsap.registerPlugin&&gsap},_numExp=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,_types={rect:["width","height"],circle:["r","r"],ellipse:["rx","ry"],line:["x2","y2"]},_round=function(t){return Math.round(1e4*t)/1e4},_parseNum=function(t){return parseFloat(t||0)},_getAttributeAsNumber=function(t,e){return _parseNum(t.getAttribute(e))},_sqrt=Math.sqrt,_getDistance=function(t,e,r,s,n,i){return _sqrt(Math.pow((_parseNum(r)-_parseNum(t))*n,2)+Math.pow((_parseNum(s)-_parseNum(e))*i,2))},_warn=function(t){},_hasNonScalingStroke=function(t){return"non-scaling-stroke"===t.getAttribute("vector-effect")},_bonusValidated=1,_parse=function(t,e,r){var s,n,i=t.indexOf(" ");return i<0?(s=void 0!==r?r+"":t,n=t):(s=t.substr(0,i),n=t.substr(i+1)),(s=~s.indexOf("%")?_parseNum(s)/100*e:_parseNum(s))>(n=~n.indexOf("%")?_parseNum(n)/100*e:_parseNum(n))?[n,s]:[s,n]},_getLength=function(t){if(!(t=_toArray(t)[0]))return 0;var e,r,s,n,i,a,o,_=t.tagName.toLowerCase(),u=t.style,h=1,g=1;_hasNonScalingStroke(t)&&(g=t.getScreenCTM(),h=_sqrt(g.a*g.a+g.b*g.b),g=_sqrt(g.d*g.d+g.c*g.c));try{r=t.getBBox()}catch(t){_warn("Some browsers won't measure invisible elements (like display:none or masks inside defs).")}var d=r||{x:0,y:0,width:0,height:0},f=d.x,p=d.y,l=d.width,c=d.height;if(r&&(l||c)||!_types[_]||(l=_getAttributeAsNumber(t,_types[_][0]),c=_getAttributeAsNumber(t,_types[_][1]),"rect"!==_&&"line"!==_&&(l*=2,c*=2),"line"===_&&(f=_getAttributeAsNumber(t,"x1"),p=_getAttributeAsNumber(t,"y1"),l=Math.abs(l-f),c=Math.abs(c-p))),"path"===_)n=u.strokeDasharray,u.strokeDasharray="none",e=t.getTotalLength()||0,h!==g&&_warn("Warning: <path> length cannot be measured when vector-effect is non-scaling-stroke and the element isn't proportionally scaled."),e*=(h+g)/2,u.strokeDasharray=n;else if("rect"===_)e=2*l*h+2*c*g;else if("line"===_)e=_getDistance(f,p,f+l,p+c,h,g);else if("polyline"===_||"polygon"===_)for(s=t.getAttribute("points").match(_numExp)||[],"polygon"===_&&s.push(s[0],s[1]),e=0,i=2;i<s.length;i+=2)e+=_getDistance(s[i-2],s[i-1],s[i],s[i+1],h,g)||0;else"circle"!==_&&"ellipse"!==_||(a=l/2*h,o=c/2*g,e=Math.PI*(3*(a+o)-_sqrt((3*a+o)*(a+3*o))));return e||0},_getPosition=function(t,e){if(!(t=_toArray(t)[0]))return[0,0];e||(e=_getLength(t)+1);var r=_win.getComputedStyle(t),s=r.strokeDasharray||"",n=_parseNum(r.strokeDashoffset),i=s.indexOf(",");return i<0&&(i=s.indexOf(" ")),(s=i<0?e:_parseNum(s.substr(0,i))||1e-5)>e&&(s=e),[Math.max(0,-n),Math.max(0,s-n)]},_initCore=function(){_windowExists()&&(_doc=document,_win=window,_coreInitted=gsap=_getGSAP(),_toArray=gsap.utils.toArray,_isEdge=-1!==((_win.navigator||{}).userAgent||"").indexOf("Edge"))};export var DrawSVGPlugin={version:"3.2.6",name:"drawSVG",register:function(t){gsap=t,_initCore()},init:function(t,e,r,s,n){if(!t.getBBox)return!1;_coreInitted||_initCore();var i,a,o,_,u=_getLength(t)+1;return this._style=t.style,this._target=t,e+""=="true"?e="0 100%":e?-1===(e+"").indexOf(" ")&&(e="0 "+e):e="0 0",i=_getPosition(t,u),a=_parse(e,u,i[0]),this._length=_round(u+10),0===i[0]&&0===a[0]?(o=Math.max(1e-5,a[1]-u),this._dash=_round(u+o),this._offset=_round(u-i[1]+o),this._offsetPT=this.add(this,"_offset",this._offset,_round(u-a[1]+o))):(this._dash=_round(i[1]-i[0])||1e-6,this._offset=_round(-i[0]),this._dashPT=this.add(this,"_dash",this._dash,_round(a[1]-a[0])||1e-5),this._offsetPT=this.add(this,"_offset",this._offset,_round(-a[0]))),_isEdge&&(_=_win.getComputedStyle(t)).strokeLinecap!==_.strokeLinejoin&&(a=_parseNum(_.strokeMiterlimit),this.add(t.style,"strokeMiterlimit",a,a+.01)),this._live=_hasNonScalingStroke(t)||~(e+"").indexOf("live"),this._props.push("drawSVG"),_bonusValidated},render:function(t,e){var r,s,n,i,a=e._pt,o=e._style;if(a){for(e._live&&(r=_getLength(e._target)+11)!==e._length&&(s=r/e._length,e._length=r,e._offsetPT.s*=s,e._offsetPT.c*=s,e._dashPT?(e._dashPT.s*=s,e._dashPT.c*=s):e._dash*=s);a;)a.r(t,a.d),a=a._next;n=e._dash,i=e._offset,r=e._length,o.strokeDashoffset=e._offset,1!==t&&t?o.strokeDasharray=n+"px,"+r+"px":(n-i<.001&&r-n<=10&&(o.strokeDashoffset=i+1),o.strokeDasharray=i<.001&&r-n<=10?"none":i===n?"0px, 999999px":n+"px,"+r+"px")}},getLength:_getLength,getPosition:_getPosition};_getGSAP()&&gsap.registerPlugin(DrawSVGPlugin);export{DrawSVGPlugin as default};